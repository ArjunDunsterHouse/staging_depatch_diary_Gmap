import{e as w,A as S,g as x,D as L,B as U,r as h,o as u,h as d,a as l,w as c,F as m,d as t,u as o,k as b,t as a,b as g}from"./app.3f6cd2bb.js";import{S as V,a as C}from"./ScrollToBottom.a7dcdc82.js";const D=w("userList",{state:()=>({search:"",userslist:[],user:"",profileStatus:"All",available_status:["All","Active","Inactive"]}),actions:{async allUsers(){console.log("users data"),console.log(this.controller),this.controller&&this.controller.abort(),this.controller=new AbortController;const i=this.controller.signal,_=S.exports.useLoading().show({color:"#5D2296",loader:"dots"});await x.post("/api/users",{profileStatus:this.profileStatus},{signal:i}).then(n=>{n.statusText=="OK"&&setTimeout(()=>{_.hide()},100),this.userslist=n.data.userslist}).catch(function(n){setTimeout(()=>{_.hide()},100),n.name==="AbortError"&&console.log("Request canceled",n.name)})}},getters:{filtersearch(){return this.userslist.filter(i=>i.role.toLowerCase().includes(this.search.toLowerCase())||i.user_name.toLowerCase().includes(this.search.toLowerCase()))}}}),k=t("br",null,null,-1),A=t("br",null,null,-1),T=g("Add User "),B=t("br",null,null,-1),N=t("br",null,null,-1),E={class:"row"},F={class:"col-lg-12 mb-4"},q={class:"card"},I={class:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},K=t("h3",{class:"m-0 font-weight-bold",style:{color:"#5D2296"}},"Users List",-1),R=["value"],$={class:"table-responsive"},O={class:"table align-items-center table-flush"},j=t("thead",{class:"thead-light"},[t("tr",null,[t("th",null,"User ID"),t("th",null,"Name"),t("th",null,"Email ID"),t("th",null,"Role"),t("th",null,"Department Name"),t("th",null,"Status")])],-1),H=g("Edit"),M=t("div",{class:"card-footer"},null,-1),G={__name:"User",setup(i){const s=D();return L().query.id,U(()=>{s.allUsers(s.profileStatus)}),(n,r)=>{const p=h("router-link"),f=h("FormKit"),v=h("b-container");return u(),d(m,null,[k,A,l(v,{fluid:"",class:"screenLayoutsWidth"},{default:c(()=>[l(p,{style:{"margin-top":"55px"},to:"/create-user",class:"btn btn-primary"},{default:c(()=>[T]),_:1}),l(V),B,N,l(f,{type:"text",name:"search-vehicle",label:"","suffix-icon":"search","validation-visibility":"live",placeholder:"Search Here",modelValue:o(s).search,"onUpdate:modelValue":r[0]||(r[0]=e=>o(s).search=e)},null,8,["modelValue"]),t("div",E,[t("div",F,[t("div",q,[t("div",I,[K,l(f,{type:"select",name:"user-status",modelValue:o(s).profileStatus,"onUpdate:modelValue":r[1]||(r[1]=e=>o(s).profileStatus=e),onChange:r[2]||(r[2]=e=>o(s).allUsers())},{default:c(()=>[(u(!0),d(m,null,b(o(s).available_status,(e,y)=>(u(),d("option",{id:"searchDropdown",key:y,value:e},a(e),9,R))),128))]),_:1},8,["modelValue"])]),t("div",$,[t("table",O,[j,t("tbody",null,[(u(!0),d(m,null,b(o(s).filtersearch,e=>(u(),d("tr",{key:e.admin_user_id},[t("td",null,a(e.user_name),1),t("td",null,a(e.name),1),t("td",null,a(e.email_id),1),t("td",null,a(e.role),1),t("td",null,a(e.department_name),1),t("td",null,a(e.profile_status),1),t("td",null,[l(p,{to:{name:"edit-user",query:{id:e.admin_user_id}},class:"btn btn-sm btn-primary"},{default:c(()=>[H]),_:2},1032,["to"])])]))),128))])])]),M])])]),l(C)]),_:1})],64)}}};export{G as default};
